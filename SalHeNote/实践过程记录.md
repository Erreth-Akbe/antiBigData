# “大数据杀熟”实践过程记录

## 会议分工

我们在第一次会议上确定了大家各自的分工，然后便开始了各自的工作。我负责开发App上传数据的部分。

由于我的任务需要等某位学长确定接口才能开始，所以我没能立即开始自己的工作。

又过了两天，再次开会时，我们做了下任务调整，开发后台接口的服务交接给了我。这时我才得以开始进行工作。

## 实践过程

### 数据库设计 

首先是数据库的设计，其实还是比较简单的，考虑到我们的数据目前主要涉及的是某个商品的价格相关信息，针对此我设计了一个简单的数据库。

![img](.\img\clip_image002.jpg)

其中每个字段的含义如下：

| 字段名                | 备注                                                    |
| --------------------- | ------------------------------------------------------- |
| id                    | 记录的唯一标识符                                        |
| name                  | 商品名称                                                |
| price                 | 默认为商品固定价格                                      |
| price_max             | 商品最高价格（若此字段不为null，则认为price是价格下限） |
| price_before_discount | 商品折前价格（若此字段不为null，则认为price是折后价）   |
| source                | 数据来源，比如taobao, taobao-web, jd, jd-web            |
| url                   | 相关URL                                                 |
| time                  | 数据参考时间                                            |
| platform              | 操作系统，如android，ios，macOS，Windows                |
| device_id             | 设备ID                                                  |

### 完成后台接口

接下来接口的确定，因为我们的数据交互不是很多，所以我只定义了几个比较简单的接口，用来完成APP和服务器之间的数据传输。

![img](.\img\clip_image004.jpg)

 

至此，一个完整的后台算是开发完毕了。

### 部署服务

出于安全性考虑，同时也能微服务化，我将数据库和后台服务放置于Docker中运行，并将服务部署到我自己的服务器上，用以供给app使用。

接口信息可参见：http://salheli.com:2021/swagger-ui.html#/

数据库（主要供给后端服务和机器学习程序调取）：

​    地址：salheli.com

​    端口：3307

​    用户名：root

​    密码：antibigdatasalhe

​    数据库名：anti_big_data

（开启Swagger-UI为了方便其他模块开发时要引用相关接口，能方便查看）

 ### App 数据上传功能开发

接下来是APP的开发，为了接近最前沿的Android App开发，我使用了Kotlin作为首选开发语言，同时使用Jetpack构建MVVM框架，并使用Jetpack中的Room作为本地数据存储模块，使用Retrofit发起网络请求，以便与服务器完成数据交换。

同时，考虑到数据有时不能立马上传或需要重新上传，app中会在本地数据库标记每条数据的上传状态，若上传失败，则可以在后续重新发起上传。

![img](.\img\clip_image006.jpg)

 

 

在10号的会议中，我们基本上就完成了各个模块的工作，进入整合阶段。

 ## 我的git记录

我的git commits：

![img](.\img\clip_image008.jpg)





## 我

李佐龙

2020.07-08